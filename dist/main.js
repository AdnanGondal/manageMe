!function(e){var t={};function r(n){if(t[n])return t[n].exports;var o=t[n]={i:n,l:!1,exports:{}};return e[n].call(o.exports,o,o.exports,r),o.l=!0,o.exports}r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)r.d(n,o,function(t){return e[t]}.bind(null,o));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=0)}([function(e,t,r){"use strict";r.r(t);let n={getTitle(){return this.title},getDescription(){return this.description},getPriority(){return this.priority},getDeadline(){return this.deadline}};const o=e=>({title:e,tasks:[],addTask:e=>{(void 0).tasks.push(e)},setTitle:e=>{(void 0).title=e},getTasks:()=>(void 0).tasks,getTitle:()=>e});let l={getTitle(){return this.title},getTasks(){return this.tasks},addTask(e){this.tasks.push(e)}};const c={storeProjects:()=>{localStorage.setItem("projects",JSON.stringify(i.getProjectsArray()))},getProjects:()=>localStorage.getItem("projects")?JSON.parse(localStorage.getItem("projects")):i.getProjectsArray(),getStored:()=>!!localStorage.getItem("projects")},i=(()=>{let e=[o("Daily")],t=!1,r=null;return{addProject:t=>{e=c.getProjects();let r=o(t);e.push(r),c.storeProjects()},getProjectsArray:()=>e,getProjects:()=>c.getProjects(),removeProject:t=>{e=c.getProjects(),e.splice(t,1),console.log(e),c.storeProjects()},isStored:()=>c.getStored(),changeCurrentProject:n=>{e=c.getProjects(),t=e[n],r=n},getCurrentProject:()=>t,resetCurrentProject:()=>{t=!1,r=null},getCurrentProjectindex:()=>r,addTask:(t,r,n,o,i)=>{let s=((e,t,r,n)=>({title:e,description:t,priority:r,deadline:n,getTitle:()=>e,getDescription:()=>t,getPriority:()=>r,getDeadline:()=>n,setTitle:e=>{(void 0).title=e},setDescription:e=>{(void 0).description=e},setPriority:e=>{(void 0).priority=e},setDeadline:e=>{(void 0).deadline=e}}))(r,n,o,i);Object.assign(e[t],l),e[t].addTask(s),console.log(e[t]),c.storeProjects()}}})();(()=>{let e=document.querySelector("#add-project-but"),t=document.querySelector("#project-title-input"),r=document.querySelector("#projects-container"),o=document.querySelector("#add-task-but"),c=document.querySelector("#task-container"),s=document.querySelector("#new-task-title"),a=document.querySelector("#task-description-text"),d=document.querySelector("#task-priority-select"),u=document.querySelector("#task-deadline");const g=()=>{i.getCurrentProject()?s.value?u.value?(i.addTask(i.getCurrentProjectindex(),s.value,a.value,d.value,u.value),s.value="",a.value="",p()):alert("Warning: Select Deadline."):alert("Warning: Enter task title."):alert("Warning: Select a project")},p=()=>{Object.assign(i.getCurrentProject(),l),console.log(i.getCurrentProject().getTasks());let e=i.getCurrentProject().getTasks();c.innerHTML="",e.forEach(e=>{Object.assign(e,n),console.log(e.getTitle());let t=document.createElement("div");t.classList.add("mb-1","pl-3");let r=document.createElement("div");r.classList.add("row");let o=document.createElement("div");o.classList.add("col-md-9","border","rounded");let l=document.createElement("div");l.classList.add("col-md-3","pl-1","m-0");let i=document.createElement("button");i.classList.add("btn","btn-outline-danger","btn-block"),i.textContent="Delete",l.appendChild(i);let s=document.createElement("h6");s.textContent=""+e.getTitle(),s.classList.add("m-0"),o.appendChild(s),r.appendChild(o),r.appendChild(l),t.appendChild(r),c.appendChild(t)})},m=()=>{t.value?(i.addProject(t.value),j(),t.value=""):alert("Warning: Enter project title.")},j=()=>{r.innerHTML="",console.log(i.getProjects()),i.getProjects().forEach((e,t)=>{i.isStored()&&Object.assign(e,l),v(e.getTitle(),t)})},v=(e,t)=>{console.log(t);let n=document.createElement("div");n.classList.add("row","pb-1");let o=document.createElement("div");o.classList.add("col-8","pr-0");let l=document.createElement("div");l.classList.add("col-4","pl-1");let c=document.createElement("button");c.textContent=e,c.classList.add("btn","btn-outline-info","btn-block","notCurrent"),c.addEventListener("click",()=>{c.classList.remove("notCurrent"),document.querySelectorAll(".notCurrent").forEach(e=>{e.classList.remove("btn-info","current"),e.classList.add("btn-outline-info")}),c.classList.remove("btn-outline-info"),c.classList.add("btn-info","notCurrent"),i.changeCurrentProject(t),p()});let s=document.createElement("button");s.textContent="Delete",s.classList.add("btn","btn-outline-danger","btn-block","deleteButs"),s.addEventListener("click",()=>{r.removeChild(n),i.removeProject(t),j(),i.resetCurrentProject(t)}),o.appendChild(c),l.appendChild(s),n.appendChild(o),n.appendChild(l),r.append(n)};return{render:()=>{j(),e.addEventListener("click",()=>{m()}),o.addEventListener("click",()=>{g()})}}})().render()}]);